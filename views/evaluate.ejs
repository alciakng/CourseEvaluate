<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>서울시립대 강의평가</title>
  
    <!-- jquery  -->
    <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

    <!-- Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0-wip/css/bootstrap.min.css">
 
    
    <!-- MultiSelect CDN -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/css/bootstrap-select.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../../font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">


	<!-- Ajax Table CSS CDN Link -->
	<link rel="stylesheet" href="../../css/bootstrap-table.css">
	<!-- table filter plugin -->
	<link rel="stylesheet" href="../../css/bootstrap-table-filter.css">
	
	<!--Reponsive Table CSS CDN Link-->
	<link href="//cdn.datatables.net/responsive/1.0.3/css/dataTables.responsive.css" rel="stylesheet" type="text/css">
	<!--Custom CSS-->
    <link href="../../css/evaluate.css" rel="stylesheet">
    <!--simple Slidebar-->
    <link href="../../css/simple-slidebar.css" rel="stylesheet">
	

	
	
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

	<script type="text/javascript">
		localStorage.setItem('roomName','<%=data[0]%><%=data[1]%>');
		localStorage.setItem('nickName','<%=nickname%>')
	</script>
</head>

<body id="page-top">

	<div id="wrapper" class>
		<div id="sidebar-wrapper">
	            <ul class="sidebar-nav">
	                <li class="sidebar-brand">
	                    <a href="#">
	                        Start Bootstrap
	                    </a>
	                </li>
	            </ul>
	    </div>
	
	  <div id="page-content-wrapper">
    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            
           
            
            <div class="navbar-header page-scroll">
             	<a class="navbar-minimalize minimalize-styl-2 btn btn-primary" id="menu-toggle" href="#menu-toggle"><i class="fa fa-bars"></i> </a>
                <a class="navbar-brand"  id ="room_name" href="#page-top"><%=data[0]%>(<%=data[1]%>)</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
           
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>
    
   	<section>
    	<div class="container">
           			 <br>
	     			
	     	<div class="row">
                <div class="col-lg-6">
                 <div class="panel eval-panel">
                        <div class="panel-heading">
                        <i class="fa  fa-edit"></i>
                          	 evaluate
                        <span class="pull-right">
                        <a href="#" data-toggle="modal" data-target="#evaluationModal"><i class="fa fa-edit"></i></a>
                        </span>
                        </div>
                 <div class="panel-body">
                    <table id="evalTable" data-pagination="true"  data-show-toggle="true" data-show-columns="true" data-search="true">
					    <thead>
						    <tr>
						        <th>글쓴이</th>
						        <th>제목</th>
						        <th>평가</th>
						        <th>작성일</th>
						        <th></th>
						    </tr>
					    </thead>
					   	<tbody>
					   		<% for(var i=0;i<evalData.length;i++){%>
					   			<tr>
						   		<td><%=evalData[i].userAlias%></td>
						   		<td><%=evalData[i].title%></td>
						   		<td><label>난이도 : </label><%=evalData[i].difficulty %><label>학점만족도 : </label><%=evalData[i].satisfaction %><label>총점 : </label><%=evalData[i].totalScore %></td>
						   		
							   		<% var date = new Date()%>
							   		<% var year = date.getFullYear();%>
							   		<% var month = date.getMonth()+1;%>
							   		<% if(month<10) month = '0'+month; %>
							   		<% var day = date.getDate();%>
							   		<% if(day<10) day = '0'+day;%>
							   		<% var currentDate = year+"-"+month+"-"+day;%>
							   		<% if(evalData[i].evalTime.substring(0,10)==currentDate){%>
							   		<td><%=evalData[i].evalTime.substring(11,20)%></td>
							   		<%}%>
							   		<% if(evalData[i].evalTime.substring(0,10)!=currentDate){%>
							   		<td><%=evalData[i].evalTime.substring(0,10)%></td>
							   		<%}%>
						   		
						   		<% if(nickname==evalData[i].userAlias){%>
							   		<td>
								   		<a class="like" id="<%=evalData[i].evalNO%>" href="/evalView/<%=evalData[i].evalNo%>" title="더보기">
							                <i class="glyphicon glyphicon-search"></i>
							            </a>
							            <a class="edit ml10" id="<%=evalData[i].evalNO%>" href="" title="수정하기">
							                <i class="glyphicon glyphicon-wrench"></i>
							            </a>
							            <a class="remove ml10" id="<%=evalData[i].evalNO%>" href="" title="삭제하기">
							                <i class="glyphicon glyphicon-trash"></i>
							            </a>
						            </td>
					            <%}%>
					            <% if(nickname!=evalData[i].userAlias){%>
					            	<td>
								   		<a class="like" href="#" title="더보기">
							                <i class="glyphicon glyphicon-search"></i>
							            </a>
							        </td>
							     <%}%>
					      
						   		</tr>
					   		<%}%>
					   	</tbody>
					</table>
					</div>
					</div>	
                </div>
                
                
                
                <div class="col-lg-6">
                    <div class="panel chat-panel">
                        <div class="panel-heading">
                        <i class="fa fa-comments fa-fw"></i>
                          	 Chat
                        </div>
                     
                     
                        <div class="panel-body">
                            <span id="msgs"></span>
                        </div>
                        
                        <div class="panel-footer">
                            <div class="input-group">
	                            
		                       <div class="input-group-btn">
							         <select id="to">
									    <option value="ALL">ALL</option>							
									 </select>
							    </div><!-- /btn-group -->
	    						
                                <input id="msgbox" type="text" class="form-control input-md" placeholder="메세지를 입력하세요">
                                <span class="input-group-btn">
                                    <button class="btn btn-warning btn-md" id="btn-chat">
                                        Send
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
		</div>	
	</section>
	<!--  evaluation modal -->
	<div class="modal fade" id="evaluationModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button>
        <h4 class="modal-title">evaluation</h4>
      </div>
      <div class="modal-body">
   				<form method="POST" action="/evaluationPost" accept-charset="UTF-8" id="evaluationForm" novalidate>
		            	<div class="control-group">
		            		<div class="controls">
			            		<input type="text" style="width:100%" placeholder="제목" name="title" data-validation-required-message="제목을 입력하세요"  class="form-control" required></input>
			            		<p class="help-block "></p>
		            		</div>
		            	</div>
		        
		           		<div class="control-group">
		           			<div class="controls">
			                	<textarea  id="evaluate_message" style="width:100%" maxlength="1000" name="evaluate_message"
			                	placeholder="강의평을 입력하세요(1000자이내)" data-validation-required-message="강의평을 입력하세요" class="form-control" rows="4" required></textarea>
			                	<p class="help-block"></p>
		                	</div>
						</div>
						
						<div class="control-group">
						    <label class="control-label">난이도</label>
						    <div class="controls">
								 <span class="btn-group" data-toggle="buttons">
									 
									  <label class="btn btn-primary">
									    <input type="radio" name="difficulty" id="option1" value="1" data-validation-required-message="난이도를 선택하세요" required>1
									  </label>
									  <label class="btn btn-primary">
									    <input type="radio" name="difficulty" id="option2" value="2" data-validation-required-message="난이도를 선택하세요" required> 2
									  </label>
									  <label class="btn btn-primary">
									    <input type="radio" name="difficulty" id="option3" value="3" data-validation-required-message="난이도를 선택하세요" required> 3
									  </label>
									   <label class="btn btn-primary">
									    <input type="radio" name="difficulty" id="option4" value="4" data-validation-required-message="난이도를 선택하세요" required> 4
									  </label>
									   <label class="btn btn-primary">
									    <input type="radio" name="difficulty" id="option5" value="5" data-validation-required-message="난이도를 선택하세요" required> 5
									  </label>
								 </span>
								 <span class="help-block"></span>
						    </div>
					    </div>
					    
					    
					    <div class="control-group">
					    <label class="control-label">학점만족도</label>
						    <div class="controls">
						    	    
								 <span class="btn-group" data-toggle="buttons"   >
									 
									  <label class="btn btn-danger">
									    <input type="radio" name="satisfaction" id="option1" value="1" data-validation-required-message="학점만족도를 선택하세요" required>1
									  </label>
									  <label class="btn btn-danger">
									    <input type="radio" name="satisfaction" id="option2" value="2" data-validation-required-message="학점만족도를 선택하세요" required> 2
									  </label>
									  <label class="btn btn-danger">
									    <input type="radio" name="satisfaction" id="option3" value="3" data-validation-required-message="학점만족도를 선택하세요" required> 3
									  </label>
									   <label class="btn btn-danger">
									    <input type="radio" name="satisfaction" id="option4" value="4" data-validation-required-message="학점만족도를 선택하세요" required> 4
									  </label>
									   <label class="btn btn-danger">
									    <input type="radio" name="satisfaction" id="option5" value="5" data-validation-required-message="학점만족도를 선택하세요" required> 5
									  </label>
								 </span>
								 <p class="help-block "></p>
						    </div>
					    </div>
					    
					    
					    <div class="control-group">
					    <label class="control-label">총 평점</label>
						    <div class="controls">
						    	    
								 <span class="btn-group" data-toggle="buttons"  >
									 
									  <label class="btn btn-success">
									    <input type="radio" name="totalScore" id="option1" value="1" data-validation-required-message="총평점을 선택하세요" required>1
									  </label>
									  <label class="btn btn-success">
									    <input type="radio" name="totalScore" id="option2" value="2" data-validation-required-message="총평점을 선택하세요" required> 2
									  </label>
									  <label class="btn btn-success">
									    <input type="radio" name="totalScore" id="option3" value="3" data-validation-required-message="총평점을 선택하세요" required> 3
									  </label>
									   <label class="btn btn-success">
									    <input type="radio" name="totalScore" id="option4" value="4" data-validation-required-message="총평점을 선택하세요" required> 4
									  </label>
									   <label class="btn btn-success">
									    <input type="radio" name="totalScore" id="option5" value="5" data-validation-required-message="총평점을 선택하세요" required> 5
									  </label>
								 </span>
								 <p class="help-block "></p>
						    </div>
					    </div>
					 
		                <button class="btn btn-info" type="submit">강의평 달기</button>
		       
		            </form>
        	
      </div>
    
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
   

    <!-- Footer -->
    <footer class="text-center">
        <div class="footer-below">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                       UOS Evaluate By JongHwanKim
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
    <div class="scroll-top page-scroll visible-xs visble-sm">
        <a class="btn btn-primary" href="#page-top">
            <i class="fa fa-chevron-up"></i>
        </a>
    </div>
    
    </div>

  </div>
    

    <!-- jQuery -->
    <script src="../../js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0-wip/js/bootstrap.min.js"></script>

  
    <!--  multi select configuration -->
    <script src="../../js/select_configuration"><</script>


    
    <!-- Validation JavaScript -->
    <script src="../../js/jqBootstrapValidation.js"></script>
 
    <!-- MultiSelect JavaScript -->
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/js/bootstrap-select.min.js"></script>
  	<!-- evaluation_post JavaScript -->
  	<script type="text/javascript" src="../../js/evaluation_init.js"></script>
  	<!-- socket.io CDN JavaScript -->
  	<script src="https://cdn.socket.io/socket.io-1.3.2.js"></script>
  	
  	<!-- bootstrap-table plugin -->
  	<script src="../../js/bootstrap-table.js"></script>
   	<script src="../../js/bootstrap-table-ko-KR.js"></script>
   	<script src="../../js/bootstrap-table-filter.js"></script>
  	

</body>

</html>
